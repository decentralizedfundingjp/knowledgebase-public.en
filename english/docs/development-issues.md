# 開発環境の問題点

## 現在発生している問題

### Markdown変更の反映問題

**症状**
- Markdownファイル（.md）の変更が開発サーバーで表示に反映されない
- HTMLファイルの変更は正常に反映される（トップページなど）

**問題の特徴**
- ブラウザのキャッシュクリアでは解決しない
- 日本語版からフォークした後に発生した問題
- 設定ファイルの小さな変更による問題の可能性が高い

### 調査状況

1. 発生タイミング
   - 日本語版からフォークした直後から発生
   - 英語版への移行作業中に発生

2. 確認済みの事項
   - ブラウザキャッシュは無関係
   - 開発サーバーの再起動では解決しない
   - HTMLファイルは正常に動作している

3. 推測される原因
   - Docusaurusの設定ファイルの変更による影響
   - ビルドプロセスの設定の問題
   - ホットリロード関連の設定の問題

## 設定ファイル比較調査（2024/04/16）

日本語版の設定ファイルと比較した結果、以下の重要な違いが見つかりました：

1. バージョン管理の違い
   - 日本語版: `"label": "Next"`
   - 英語版: `"label": "Current"`
   - ドキュメントのバージョン管理方法に影響の可能性

2. ドキュメントパスの構造の違い
   - 日本語版には `/docs/` プレフィックスを持つパスが存在
   - 英語版はすべてのドキュメントがルートパスに配置

3. コンポーネントIDの違い
   - ルートコンポーネントのIDが異なる（日本語版: '21c', 英語版: '5b7'）
   - コンポーネントの生成方法やキャッシュに影響の可能性

## 解決方針

1. バージョン管理の設定を統一
   ```js
   // docusaurus.config.jsの修正
   versions: {
     current: {
       label: 'Next',
       path: '',
     },
   }
   ```

2. ドキュメントパスの構造を統一
   - すべてのドキュメントをルートパスに配置する方針を採用
   - または、`/docs/` プレフィックスを使用する構造に統一

3. キャッシュのクリアと再ビルド
   ```bash
   npm run clear
   npm run build
   ```

4. デバッグログを有効化した開発サーバーの起動
   ```bash
   DEBUG=* npm run start
   ```

## 実施手順

1. バージョン管理の設定変更
   - `docusaurus.config.js`の修正
   - 変更後のビルド確認

2. パス構造の統一
   - 現在のパス構造を確認
   - 必要に応じてドキュメントの移動
   - サイドバー設定の更新

3. キャッシュクリアとデバッグ
   - キャッシュの完全クリア
   - デバッグモードでの動作確認
   - ログの解析と問題箇所の特定

4. 動作確認
   - Markdownファイルの変更反映テスト
   - 新規ファイル作成テスト
   - ホットリロードの動作確認

## 期待される結果

- Markdownファイルの変更がリアルタイムで反映される
- 新規ファイルが正しく認識される
- ビルドプロセスが正常に動作する
- デバッグログで問題が発生していないことを確認できる 